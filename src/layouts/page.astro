---
import Header from 'components/common/header.astro'
import Footer from 'components/common/footer.astro'
import MobileMenu from 'components/common/mobileMenu.astro'

type Props = {
	id: string | number;
	locale: string;
	title?: string;
	description?: string;
	canonical?: string;
	image?: string;
}

const { id, locale, title = 'Title', description = 'Description', canonical = '/', image = '' } = Astro.props
const favicon = 'assets/img/favicon/zajno.ico';

const noIndex = '' // ??????
const SitemapNoScriptId = '' // ????????
const pageAlts = {
	links: [] as any[],
	default: '',
} // PageAlts ??????

const bodyClass = `locale-${locale}`;
---

<!DOCTYPE html>
<html lang={locale}>
	<head>
		<meta charset="utf-8" />

		<title>{title}</title>

		{ noIndex && <meta name="robots" content="noindex">}
		{!noIndex && (<meta name="generator" content={Astro.generator} />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content={description}>
		<meta property="og:description" content={description}>
		<meta property="og:title" content={title} />

		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

		<meta property="og:type" content="website">
		<meta property="og:url" content={canonical}>
		<meta property="og:site_name" content={title}>
		<meta property="og:title" content={title}>
		<meta property="og:description" content={description}>
		<meta property="og:image:width" content="1200">
		<meta property="og:image:height" content="630">
		<meta property="og:image" content={image}>
		<meta property="og:image:alt" content={description}>

		<meta name="twitter:card" content="summary">
		<meta name="twitter:image" content={image}>

		<meta name="twitter:title" content={title}>
		<meta name="twitter:description" content={description}>

		<link rel="shortcut icon" href={favicon} type="image/x-icon">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="theme-color" content="#ffffff">

		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500&display=swap" rel="stylesheet">
		)}
		
		
		{(id != SitemapNoScriptId)
			? (<noscript>
				<meta http-equiv="refresh" content="0;url=/no-script.html">
			</noscript>)
			: <script> window.location.href = '/' </script>
		}

		<!-- i18n alternatives for search engines -->
		{	pageAlts.links.forEach(p => { 
				const { lang, url } = p 
				return <link rel="alternate" hreflang={lang} href={url} />
			})
		}
		{pageAlts && <link rel="alternate" hreflang="x-default" href={pageAlts.default} />}
		
	</head>
	<Header/>

	<body class={bodyClass}>
		<slot />
	</body>

	<Footer/>

	<MobileMenu/>
</html>


<!-- {(page.disableScripts !== 'force') '../scripts/window.appReady.html' }  ???? require -->
